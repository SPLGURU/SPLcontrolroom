<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <title>Control Room V2</title>

    <!-- Firebase SDKs -->
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"></script>

    <!-- Other Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script> 
    <script src="https://unpkg.com/gif.js@0.2.0/dist/gif.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Oswald:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <!-- Our Custom Styles -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Placeholders for environment variables to be injected by Netlify -->
    <script>
        window.config = {
            firebaseApiKey: "___FIREBASE_API_KEY_PLACEHOLDER___",
            bootstrapStaticApiUrl: "___BOOTSTRAP_STATIC_API_URL_PLACEHOLDER___",
            fixturesApiBaseUrl: "___FIXTURES_API_BASE_URL_PLACEHOLDER___",
            playerImagePath: "https://static-files.saudi-pro-league.pulselive.com/players/headshot/p"
        };
    </script>
</head>
<body>

    <!-- Hamburger menu toggle icon -->
    <span class="menu-toggle" id="menuToggle">&#9776;</span>

    <!-- Sidebar menu -->
    <div class="sidebar-menu" id="sidebarMenu">
        <a href="javascript:void(0)" class="close-btn" id="closeSidebar">&times;</a>
        <a href="#" id="menuMyControlRoom"><i class="fas fa-home"></i> My Control Room</a>
        <a href="#" id="menuFDR"><i class="fas fa-chart-line"></i> FDR</a>
        <a href="#" id="menuTeamsToTarget"><i class="fas fa-bullseye"></i> Teams To Target</a>
        <a href="#" id="menuTransferPlanner"><i class="fas fa-exchange-alt"></i> Transfer Planner</a>
        <a href="#" id="menuAdminDashboard"><i class="fas fa-user-shield"></i> Admin Dashboard</a>
        <a href="#" id="menuLogout"><i class="fas fa-sign-out-alt"></i> Logout</a>
    </div>

    <!-- Overlay for the sidebar -->
    <div class="overlay" id="overlay"></div>

    <div id="logo-container">
        <img id="logo-img" src="Pitch Background.png-7ac071ba-60b1-40e0-8e33-7ca69b15dddf" alt="Logo">
    </div>

    <div class="theme-switch-wrapper">
        <span>Light Mode</span>
        <label class="theme-switch" for="darkModeToggle">
            <input type="checkbox" id="darkModeToggle">
            <div class="slider round"></div>
        </label>
        <span>Dark Mode</span>
    </div>

    <!-- Main content area where different views will be loaded -->
    <main id="mainContent" class="container">
        <!-- Content from other HTML files will be loaded here dynamically -->
    </main>

    <!-- Modals (will be used by multiple components, so they stay in the main file) -->
    <div id="loadingModal" class="modal">
        <div class="modal-content">
            <h3>Loading...</h3>
            <div class="spinner"></div>
            <p>Please wait while we load the data.</p>
        </div>
    </div>
    
    <div id="confirmationModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeConfirmationModal">&times;</span>
            <p id="confirmationMessage"></p>
            <div id="confirmationButtons">
                <button id="confirmYesButton">Yes</button>
                <button id="confirmNoButton">No</button>
            </div>
        </div>
    </div>

    <div id="generalMessageModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeGeneralMessageModal">&times;</span>
            <p id="generalMessage"></p>
        </div>
    </div>

    <!-- The main script that orchestrates the entire application -->
    <script type="module" src="js/main.js"></script>

</body>
</html>
